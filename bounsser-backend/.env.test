# Test Environment Configuration
NODE_ENV=test

# Database Configuration (Test Database)
DATABASE_URL=""

# Redis Configuration (Test Instance)
REDIS_URL="redis://localhost:6379/1"
REDIS_CACHE_URL="redis://localhost:6379/2"
REDIS_SESSION_URL="redis://localhost:6379/3"

# JWT Configuration (Test Keys)
JWT_SECRET="${JWT_SECRET:-$(openssl rand -base64 32)}"
JWT_REFRESH_SECRET="${JWT_REFRESH_SECRET:-$(openssl rand -base64 32)}"
JWT_EXPIRES_IN="1h"
JWT_REFRESH_EXPIRES_IN="7d"

# API Configuration
API_KEY="${TEST_API_KEY:-test-api-key-12345}"
API_VERSION="v1"
PORT=3001

# Rate Limiting (Relaxed for tests)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=1000
RATE_LIMIT_SKIP_FAILED_REQUESTS=true

# Logging Configuration
LOG_LEVEL="error"
LOG_FILE_ENABLED=false
LOG_CONSOLE_ENABLED=false

# External Services (Disabled for tests)
TWITTER_API_ENABLED=false
TWITTER_API_KEY="${TEST_TWITTER_API_KEY:-test-twitter-api-key}"
TWITTER_API_SECRET="${TEST_TWITTER_API_SECRET:-test-twitter-api-secret}"
TWITTER_BEARER_TOKEN="${TEST_TWITTER_BEARER_TOKEN:-test-twitter-bearer-token}"
TWITTER_ACCESS_TOKEN="${TEST_TWITTER_ACCESS_TOKEN:-test-twitter-access-token}"
TWITTER_ACCESS_TOKEN_SECRET="${TEST_TWITTER_ACCESS_TOKEN_SECRET:-test-twitter-access-token-secret}"

# Email Configuration (Disabled for tests)
EMAIL_ENABLED=false
SMTP_HOST="localhost"
SMTP_PORT=587
SMTP_USER="${TEST_SMTP_USER:-test@example.com}"
SMTP_PASS="${TEST_SMTP_PASS:-test-password}"
FROM_EMAIL="${TEST_FROM_EMAIL:-test@bouncer.dev}"

# Webhook Configuration (Disabled for tests)
WEBHOOK_ENABLED=false
WEBHOOK_SECRET="${TEST_WEBHOOK_SECRET:-test-webhook-secret}"
WEBHOOK_URL=""

# Queue Configuration
QUEUE_REDIS_URL=""
QUEUE_DEFAULT_DELAY=0
QUEUE_MAX_ATTEMPTS=1
QUEUE_BACKOFF_DELAY=1000

# Metrics Configuration
METRICS_ENABLED=false
METRICS_PORT=9091
PROMETHEUS_ENDPOINT="/metrics"

# Security Configuration
CORS_ORIGIN=""
CORS_CREDENTIALS=true
HELMET_ENABLED=true
TRUST_PROXY=false

# Session Configuration
SESSION_SECRET="${TEST_SESSION_SECRET:-test-session-secret-key-minimum-32-characters-required-for-validation}"
SESSION_MAX_AGE=86400000
SESSION_SECURE=false
SESSION_HTTP_ONLY=true

# File Upload Configuration
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/gif"

# Cache Configuration
CACHE_TTL=300
CACHE_MAX_SIZE=100

# Detection Configuration
DETECTION_ENABLED=false
DETECTION_CONFIDENCE_THRESHOLD=0.8
DETECTION_BATCH_SIZE=10

# Scoring Configuration
SCORING_ENABLED=false
SCORING_MODEL_PATH="/tmp/test-model"
SCORING_BATCH_SIZE=5

# Monitoring Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
MONITORING_ENABLED=false

# Development Configuration
DEBUG=false
VERBOSE_LOGGING=false
PRETTY_PRINT_LOGS=false

# Test-specific Configuration
TEST_TIMEOUT=30000
TEST_DB_RESET=true
TEST_REDIS_FLUSH=true
TEST_MOCK_EXTERNAL_SERVICES=true
TEST_SKIP_AUTH=false
TEST_ADMIN_USER_ID="test-admin-user-123"
TEST_USER_ID="test-user-456"
TEST_ORG_ID="test-org-789"
